<nav>
	{#each Object.keys(topics[activeTopic]) as name }
	{#if name != 'text'}
	<div class:active="activeService == name" on:click="selectService(name)">{name}</div>
	{/if}
	{/each}
</nav>

<EntityText text={topics[activeTopic].text} entities={topics[activeTopic][activeService]} ></EntityText>

<script>
	import EntityText from './EntityText.html';

	export default {
		components: {
			EntityText
		},
		methods: {
			selectService(serviceName) {
				console.log(`Selected ${serviceName}`);
				this.set({activeService: serviceName});
			}
		}
	};
</script>

<style>
	h1 {
		color: purple;
	}

	article {
		line-height: 3;
	}

	span.ent {
		display: inline-flex;
		flex-flow: column;
		border-left: 2px solid red;
		border-right: 2px solid red;
		line-height: normal;
	}

	span.ent_text > span.ent:first-child {
		border-left: none;
	}

	span.ent_text > span.ent:last-child {
		border-right: none;
	}

	mark.ent_label {
		background-color: red;
		color: white;
		text-transform: uppercase;
		font-size: small;
		font-family: Georgia, 'Times New Roman', Times, serif
	}

	nav {
		display: flex;
		flex-wrap: wrap;
	}

	nav div {
		justify-content: space-between;
		padding: 4px;
		margin: 2px;
		border: 1px solid black;
		min-width: 6em;
		text-align: center;
		border-radius: 4px;
	}

	nav div.active {
		background-color: #ccc;
	}

	@media only screen and (max-device-width: 320px){
		#image nav div {
			min-width: 0em;
		}
	}

	@media only screen and (min-device-width: 320px) and (max-device-width: 480px){
		#image nav div {
			min-width: 9em;
		}
	}

</style>